<%@ Page Title="" Language="C#" MasterPageFile="~/web/Site.Master" AutoEventWireup="true" CodeBehind="deliveryservices.aspx.cs" Inherits="DataDeliverylnterface2.web.deliveryservices" %>

<asp:Content ID="DeliveryServicesContent" ContentPlaceHolderID="ContentPlaceHolder" runat="server">

    <!-- Open Layers 4 -->
    <link rel="stylesheet" href="libs/openlayers/ol.css" type="text/css" />
    <script type="text/javascript" src="libs/openlayers/ol.js"></script>
  
    <!-- Custom -->
    <script type="text/javascript" src="js/deliveryservices/datadeliveryvalidator.js"></script>
    <script type="text/javascript" src="js/deliveryservices/deliveryservices.js"></script>
    <script type="text/javascript" src="js/deliveryservices/deliveryservicesmanager.js"></script>
    <script type="text/javascript" src="js/deliveryservices/dialogclause.js"></script>
    <script type="text/javascript" src="js/deliveryservices/dialogmmsi.js"></script>
    <script type="text/javascript" src="js/deliveryservices/dialogcoordinate.js"></script>

    <!-- Code inject literal -->
    <asp:Literal ID="CodeInject" runat="server"></asp:Literal>

    <div id="divDeliveryServices">

        <!-- Customers -->
        <fieldset id="fsCustomers">
            <legend id="legendCustomers" role="button">Customers</legend>
            <div id="divCustomersResults">
            </div>
        </fieldset>

        <!-- Customer details -->
        <fieldset id="fsCustomerDetails">
            <legend id="legendCustomerDetails" role="button">Customer Details</legend>
            <div class="form-horizontal">
                <div class="form-group">                    
                    <label class="col-sm-2 control-label">ID</label>
                    <div class="col-sm-10">
                        <input type="text" id="txtCustomerId" class="form-control" disabled="disabled" />                                      
                    </div>
                </div>
                <div class="form-group row">                    
                    <label for="txtCustomerName" class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" id="txtCustomerName" class="form-control" />
                    </div>
                </div>
                
                <!-- Configuration -->
                <div class="form-group">
                    <label class="col-sm-2 control-label">Configuration</label>
                    <div class="col-sm-10">
                        <div class="checkbox">
                            <label><input id="cbRawData" type="checkbox" />Raw Data</label>
                        </div>
                        <div class="checkbox">
                            <label><input id="cbRealTime" type="checkbox" />Real Time</label>                        
                        </div>
                        <div class="checkbox">
                            <label><input id="cbOriginalSatelliteCodes" type="checkbox" />Original satellite codes</label>                        
                        </div>
                    </div>
                </div>
                
                <!-- Delivery Method -->
                <div class="form-group row">
                    <label class="col-sm-2 control-label">Delivery method</label>
                    <div class="col-sm-10">
                        <div class="checkbox">
                            <label><input id="cbDeliveryMethodFTP" type="checkbox" />FTP</label>
                        </div>
                        <div class="checkbox">
                            <label><input id="cbDeliveryMethodPushService" type="checkbox" />Push Service</label>
                        </div>
                        <div class="checkbox">
                            <label><input id="cbDeliveryMethodApi" type="checkbox" />Api</label>
                        </div>

                        <!-- FTP -->
                        <fieldset id="fsCustomerDetailsFtp">
                            <legend id="legendCustomerDetailsFtp" role="button">FTP</legend>
                            <div>
                                
                                <!-- FTP properties -->
                                <fieldset id="fsFtpProperties">
                                    <legend id="legendFtpProperties" role="button">FTP properties</legend>
                                    <div>
                                        <div class="form-group row">
                                            <label for="txtFtpDeliveryInterval" class="col-sm-2 control-label">Delivery interval</label>
                                            <div class="col-sm-10">
                                                <input type="text" id="txtFtpDeliveryInterval" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="txtFtpDeliveryLimit" class="col-sm-2 control-label">Delivery limit</label>
                                            <div class="col-sm-10">
                                                <input type="text" id="txtFtpDeliveryLimit" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="txtFtpServer" class="col-sm-2 control-label">Server</label>
                                            <div class="col-sm-4">
                                                <input type="text" id="txtFtpServer" class="form-control" />
                                            </div>
                                            <label for="txtFtpPort" class="col-sm-2 control-label">Port</label>
                                            <div class="col-sm-4">
                                                <input type="text" id="txtFtpPort" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="txtFtpUsername" class="col-sm-2 control-label">Username</label>
                                            <div class="col-sm-10">
                                                <input type="text" id="txtFtpUsername" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="txtFtpPassword" class="col-sm-2 control-label">Password</label>
                                            <div class="col-sm-10">
                                                <input type="password" id="txtFtpPassword" class="form-control" />
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>

                                <!-- File properties -->
                                <fieldset id="fsFtpFileProperties">
                                    <legend id="legendFtpFileProperties" role="button">FTP file properties</legend> 
                                    <div>
                                        <div class="form-group row">
                                            <label for="txtFtpFilePrefix" class="col-sm-2 control-label">File prefix</label>
                                            <div class="col-sm-10">
                                                <input type="text" id="txtFtpFilePrefix" class="form-control" />
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="ddlFtpFileExtension" class="col-sm-2 control-label">File extension</label>
                                            <div class="col-sm-10">
                                                <select id="ddlFtpFileExtension" class="form-control"></select>
                                            </div>
                                        </div>
                                            <div class="form-group row">
                                            <label for="ddlFtpTemplate" class="col-sm-2 control-label">Template</label>
                                            <div class="col-sm-10">
                                                <select id="ddlFtpTemplate" class="form-control"></select>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </fieldset>

                        <!-- Push service -->
                        <fieldset id="fsPushServiceDetails">
                            <legend id="legendCustomerDetailsPushService" role="button">Push Service</legend>
                            <div>                               
                                <div class="form-group row">
                                    <label for="txtPushServiceDeliveryInterval" class="col-sm-2 control-label">Delivery interval</label>
                                    <div class="col-sm-10">
                                        <input type="text" id="txtPushServiceDeliveryInterval" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="txtPushServiceDeliveryLimit" class="col-sm-2 control-label">Delivery limit</label>
                                    <div class="col-sm-10">
                                        <input type="text" id="txtPushServiceDeliveryLimit" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="txtPushServiceIpAddress" class="col-sm-2 control-label">Server</label>
                                    <div class="col-sm-4">
                                        <input type="text" id="txtPushServiceIpAddress" class="form-control" />
                                    </div>
                                    <label for="txtPushServicePort" class="col-sm-2 control-label">Port</label>
                                    <div class="col-sm-4">
                                        <input type="text" id="txtPushServicePort" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="ddlPushServiceTemplate" class="col-sm-2 control-label">Template</label>
                                    <div class="col-sm-10">
                                        <select id="ddlPushServiceTemplate" class="form-control"></select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>

                        <!-- API -->
                        <!-- Push service -->
                        <fieldset id="fsApiDetails">
                            <legend id="legendCustomerDetailsApi" role="button">API</legend>
                            <div>                                                               
                                <div class="form-group row">
                                    <label for="txtApiIpAddress" class="col-sm-2 control-label">Server</label>
                                    <div class="col-sm-4">
                                        <input type="text" id="txtApiIpAddress" class="form-control" />
                                    </div>
                                    <label for="txtApiPort" class="col-sm-2 control-label">Port</label>
                                    <div class="col-sm-4">
                                        <input type="text" id="txtApiPort" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="txtApiUsername" class="col-sm-2 control-label">Username</label>
                                    <div class="col-sm-10">
                                        <input type="text" id="txtApiUsername" class="form-control" />
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <label for="txtApiPassword" class="col-sm-2 control-label">Password</label>
                                    <div class="col-sm-10">
                                        <input type="password" id="txtApiPassword" class="form-control" />
                                    </div>
                                </div>

                                <div class="form-group row">
                                    <label for="ddlApiTemplate" class="col-sm-2 control-label">Template</label>
                                    <div class="col-sm-10">
                                        <select id="ddlApiTemplate" class="form-control"></select>
                                    </div>
                                </div>
                            </div>
                        </fieldset>


                    </div>
                </div>            

                <button id="btnSaveCustomer" type="submit">Save</button>
            </div>
        </fieldset>

        <!-- Services -->
        <fieldset id="fsServices">
            <legend id="legendServices" role="button">Services</legend>
            <div id="divServicesResults">
            </div>
        </fieldset>

        <!-- Service details -->
        <fieldset id="fsServiceDetails">
            <legend id="legendServiceDetails" role="button">Service Details</legend>

            <div>
                <!-- Name -->
                <fieldset id="fsServiceName">
                    <legend id="legendServiceName" role="button">Name</legend>
                    <div  class="form-horizontal">
                        <div class="form-group row">                    
                            <label class="col-sm-2 control-label">ID</label>                                                        
                            <div class="col-sm-10">
                                <input type="text" id="txtServiceId" class="form-control" disabled="disabled" />
                            </div>
                        </div>
                        <div class="form-group row">                    
                            <label for="txtServiceName" class="col-sm-2 control-label">Name</label>
                            <div class="col-sm-10">
                                <input type="text" id="txtServiceName" class="form-control" />
                            </div>
                        </div>
                    </div>
                </fieldset>
                
                <!-- Duration -->
                <fieldset id="fsServiceDuration">
                    <legend id="legendServiceDuration" role="button">Duration</legend>
                    <div class="form-horizontal">
                        <div class="form-group row">                    
                            <label for="txtServiceDurationStart" class="col-sm-2 control-label">Start</label>
                            <div class="col-sm-10">
                                <input type="text" id="txtServiceDurationStart" class="form-control" />
                            </div>
                        </div>

                        <div class="form-group row">                    
                            <label for="txtServiceDurationEnd" class="col-sm-2 control-label">End</label>
                            <div class="col-sm-10">
                                <input type="text" id="txtServiceDurationEnd" class="form-control" />
                            </div>
                        </div>
                    </div>
                </fieldset>

                <!-- Where clause -->
                <fieldset id="fsServiceWhereClause">
                    <legend id="legendServiceWhereClause" role="button">Where Clause</legend>

                    <!-- Additional clauses -->
                    <fieldset id="fsServiceAdditionalClauses">                                                
                        <legend id="legendServiceAdditionalClauses" role="button">1. Additional Clauses</legend>
                        <div>
                            <div class="form-horizontal">
                                <div class="form-group row">
                                    <label class="col-sm-2 control-label" for="ddlServiceQuality">Quality</label>
                                    <div class="col-sm-10">
                                        <select id="ddlServiceQuality" class="form-control">
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div id="divServiceDetailsWhereClause" class="tableServiceDetails">
                            </div>
                        </div>  
                    </fieldset>                      

                    <!-- MMSI list -->
                    <fieldset id="fsServiceMMSIList">                                                
                        <legend id="legendServiceMMSIList" role="button">2. MMSI</legend>
                        <div>
                            <form id="frmFileMmsiList" method="post" enctype="multipart/form-data" class="form-horizontal">
                                <div class="form-group row">
                                    <label class="col-sm-3 control-label" for="txtFileShapefile">Load MMSI list from file</label>
                                    <div class="col-sm-7">
                                        <input id="txtFileMMSItxtFileMMSItxtFileMMSItxtFileMMSI" type="file" class="form-control" name="files" />
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div id="divServiceDetailsMmsiList" class="tableServiceDetails">
                        </div>
                    </fieldset>

                    <!-- Shapefile -->
                    <fieldset id="fsServiceShapefile">                                                
                        <legend id="legendServiceShapefile" role="button">3. Geo</legend>
                        <div>
                            <div class="form-group row">
                                <!-- Worldwide -->
                                <div class="col-sm-2 col-sm-offset-2 checkbox">
                                    <label><input id="cbWorldwide" type="checkbox" />Worldwide</label>
                                </div>

                                <!-- Import shapefile -->
                                <form id="frmFileShapefileUpload" method="post" enctype="multipart/form-data" class="form-horizontal">                                    
                                    <label class="col-sm-3 control-label" for="txtFileShapefile">Load coordinates from file</label>
                                    <div class="col-sm-3">
                                        <input id="txtFileShapefile" type="file" class="form-control" name="files" />
                                    </div>
                                </form>
                            </div>

                            <!-- Drawing mode -->
                            <div id="divDrawOnMap">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-sm-offset-2 checkbox">
                                        <label><input id="cbDrawRectangularArea" type="checkbox" />Draw rectangular area</label>
                                    </div>
                                </div>
                                <div class="form-group row">
                                    <div class="col-sm-3 col-sm-offset-2 checkbox">
                                        <label><input id="cbDrawPolygon" type="checkbox" />Draw a polygon</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Coordinates table -->
                            <div id="divServiceDetailsCoordinates" class="tableServiceDetails">
                            </div>
                            <div id="divServiceDetailsCoordinatesWarningCWDirection" style="display: none">
                                <label id="lblWarningCWCoordinates"></label>
                            </div>

                            <!-- Map -->
                            <div id="divServiceDetailsMapSection">
                                <div id="divServiceDetailsMap" class="map" style="height: 400px; width: 100%">
                                </div>
                            </div>
                        </div>
                    </fieldset>

                    <!-- Ship type -->
                    <fieldset id="fsServiceShipType">                                                
                        <legend id="legendServiceShipType" role="button">4. Ship type</legend>
                        <div>
                            <div class="form-group row">                                
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbCargoShips" type="checkbox" class="shipTypeChecks" />Cargo ships</label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbFishingVessels" type="checkbox" class="shipTypeChecks" />Fishing vessels</label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbNotDefined" type="checkbox" class="shipTypeChecks" />Not defined</label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbOherTypes" type="checkbox" class="shipTypeChecks" />Other types</label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbPassengerShips" type="checkbox" class="shipTypeChecks" />Passenger ships</label>
                                    </div>
                                </div>
                                <div class="col-sm-offset-2 col-sm-4">
                                    <div class="checkbox">
                                        <label><input id="cbTankers" type="checkbox" class="shipTypeChecks" />Tankers</label>
                                    </div>
                                </div>

                            </div>                           
                            
                        </div>
                    </fieldset>

                </fieldset>                

            </div>
            
            <button id="btnSaveService" type="submit">Save</button>            
        </fieldset>        

    </div>

    <!-- Dialog (modal) to add clauses -->
    <div id="divDialogAddClause" title="Add clause" style="display: none">
        <div class="form-horizontal" style="width: 99%">
            <div class="form-group row">
                <label class="col-sm-3 control-label" for="ddlServiceClauseDatafield">Datafield</label>
                <div class="col-sm-9">
                    <select id="ddlServiceClauseDatafield" class="form-control">                        
                    </select>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-3 control-label" for="ddlServiceClauseOperator">Operator</label>
                <div class="col-sm-9">
                    <select id="ddlServiceClauseOperator" class="form-control">                        
                    </select>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-sm-3 control-label" for="txtServiceClauseLowerLimit">Lower limit</label>                    
                <div class="col-sm-9">
                    <input  id="txtServiceClauseLowerLimit" class="form-control" type="text" />
                </div>
            </div>
                    
            <div class="form-group row">
                <label class="col-sm-3 control-label" for="txtServiceClauseUpperLimit">Upper limit</label>
                <div class="col-sm-9">
                    <input  id="txtServiceClauseUpperLimit" class="form-control" type="text" />
                </div>
            </div>
        </div>
    </div>

    <!-- Dialog (modal) to add mmsi -->
    <div id="divDialogAddMmsi" title="Add MMSI" style="display: none">
        <div class="form-horizontal" style="width: 99%">
            <div class="form-group row">
                <label class="col-sm-3 control-label" for="txtServiceMmsi">MMSI</label>                    
                <div class="col-sm-9">
                    <input  id="txtServiceMmsi" class="form-control" type="text" />
                </div>
            </div>
        </div>
    </div>

    <!-- Dialog (modal) to add coordinates -->
    <div id="divDialogAddCoordinate" title="Add coordinate" style="display: none">
        <div class="form-horizontal" style="width: 99%">
            <div class="form-group row">
                <label class="col-sm-3 control-label" for="txtServiceCoordinateLatitude">Latitude</label>                    
                <div class="col-sm-9">
                    <input  id="txtServiceCoordinateLatitude" class="form-control" type="text" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 control-label" for="txtServiceCoordinateLongitude">Longitude</label>                    
                <div class="col-sm-9">
                    <input  id="txtServiceCoordinateLongitude" class="form-control" type="text" />
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript">
        init();
    </script>

</asp:Content>
